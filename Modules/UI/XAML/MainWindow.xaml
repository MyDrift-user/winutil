<Window xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="WinUtil - Windows Utility Tool" 
        Height="900" 
        Width="1400"
        MinHeight="700"
        MinWidth="1000"
        WindowStartupLocation="CenterScreen"
        Background="#FF1A1A1A"
        WindowStyle="None"
        AllowsTransparency="True"
        ResizeMode="CanResize">
    
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="Resources.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="70"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <!-- Custom Title Bar with Navigation -->
        <Border Grid.Row="0" Background="#FF2D2D30" BorderBrush="#FF3F3F46" BorderThickness="0,0,0,1">
            <Grid Margin="20,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- WinUtil Logo (Draggable Area) -->
                <Canvas Name="titleBar" Grid.Column="0" Width="32" Height="28" VerticalAlignment="Center" Margin="0,0,15,0" Cursor="Hand">
                    <Canvas.RenderTransform>
                        <ScaleTransform ScaleX="0.3" ScaleY="0.3"/>
                    </Canvas.RenderTransform>
                    <!-- Logo Path 1 -->
                    <Path Fill="#FF0567FF">
                        <Path.Data>
                            <PathGeometry>M 18.00,14.00 C 18.00,14.00 45.00,27.74 45.00,27.74 45.00,27.74 57.40,34.63 57.40,34.63 57.40,34.63 59.00,43.00 59.00,43.00 59.00,43.00 59.00,83.00 59.00,83.00 55.35,81.66 46.99,77.79 44.72,74.79 41.17,70.10 42.01,59.80 42.00,54.00 42.00,51.62 42.20,48.29 40.98,46.21 38.34,41.74 25.78,38.60 21.28,33.79 16.81,29.02 18.00,20.20 18.00,14.00 Z</PathGeometry>
                        </Path.Data>
                    </Path>
                    <!-- Logo Path 2 -->
                    <Path Fill="#FF0567FF">
                        <Path.Data>
                            <PathGeometry>M 107.00,14.00 C 109.01,19.06 108.93,30.37 104.66,34.21 100.47,37.98 86.38,43.10 84.60,47.21 83.94,48.74 84.01,51.32 84.00,53.00 83.97,57.04 84.46,68.90 83.26,72.00 81.06,77.70 72.54,81.42 67.00,83.00 67.00,83.00 67.00,43.00 67.00,43.00 67.00,43.00 67.99,35.63 67.99,35.63 67.99,35.63 80.00,28.26 80.00,28.26 80.00,28.26 107.00,14.00 107.00,14.00 Z</PathGeometry>
                        </Path.Data>
                    </Path>
                    <!-- Logo Path 3 -->
                    <Path Fill="#FFA3A4A6">
                        <Path.Data>
                            <PathGeometry>M 19.00,46.00 C 21.36,47.14 28.67,50.71 30.01,52.63 31.17,54.30 30.99,57.04 31.00,59.00 31.04,65.41 30.35,72.16 33.56,78.00 38.19,86.45 46.10,89.04 54.00,93.31 56.55,94.69 60.10,97.20 63.00,97.22 65.50,97.24 68.77,95.36 71.00,94.25 76.42,91.55 84.51,87.78 88.82,83.68 94.56,78.20 95.96,70.59 96.00,63.00 96.01,60.24 95.59,54.63 97.02,52.39 98.80,49.60 103.95,47.87 107.00,47.00 107.00,47.00 107.00,67.00 107.00,67.00 106.90,87.69 96.10,93.85 80.00,103.00 76.51,104.98 66.66,110.67 63.00,110.52 60.33,110.41 55.55,107.53 53.00,106.25 46.21,102.83 36.63,98.57 31.04,93.68 16.88,81.28 19.00,62.88 19.00,46.00 Z</PathGeometry>
                        </Path.Data>
                    </Path>
                </Canvas>
                
                <!-- Navigation Tabs -->
                <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Left">
                    <Button Name="btnApplicationsTab" Content="Applications" Style="{StaticResource TabButton}" Tag="0" Margin="0,0,8,0"/>
                    <Button Name="btnTweaksTab" Content="Tweaks" Style="{StaticResource TabButton}" Tag="1"/>
                </StackPanel>
                
                <!-- Draggable spacer area -->
                <Rectangle Grid.Column="2" Fill="Transparent" Name="dragArea" Cursor="SizeAll"/>
                
                <!-- Search Box -->
                <TextBox Name="txtSearch" Grid.Column="3"
                         Style="{StaticResource SearchTextBox}"
                         Width="280"
                         Height="36"
                         VerticalAlignment="Center"
                         Margin="20,0,20,0"/>
                
                <!-- Window Controls -->
                <StackPanel Grid.Column="4" Orientation="Horizontal" VerticalAlignment="Center">
                    <Button Name="btnMinimize" Content="&#xE921;" Style="{StaticResource WindowControlButton}" Width="46" Height="32" FontFamily="Segoe MDL2 Assets" FontSize="10"/>
                    <Button Name="btnMaximize" Content="&#xE922;" Style="{StaticResource WindowControlButton}" Width="46" Height="32" FontFamily="Segoe MDL2 Assets" FontSize="10"/>
                    <Button Name="btnClose" Content="&#xE8BB;" Style="{StaticResource WindowControlCloseButton}" Width="46" Height="32" FontFamily="Segoe MDL2 Assets" FontSize="10"/>
                </StackPanel>
            </Grid>
        </Border>
        
        <!-- Main Content Area -->
        <Grid Grid.Row="1" Margin="30">
            <!-- Applications Content -->
            <Grid Name="ApplicationsContent" Visibility="Visible">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                <!-- Applications Tree -->
                <TreeView Name="trvApplications" Grid.Row="0" Style="{StaticResource ModernTreeView}" Background="Transparent" BorderThickness="0" Margin="0,0,0,20">
                    <!-- TreeView items will be populated via code-behind -->
                </TreeView>
                
                <!-- Application Actions -->
                <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Center">
                    <Button Name="btnInstallApps" Content="Install Selected Applications" Style="{StaticResource ModernButton}" Margin="0,0,15,0" Padding="30,15"/>
                    <Button Name="btnUninstallApps" Content="Uninstall Selected Applications" Style="{StaticResource ModernButton}" Background="#FFD13438" Padding="30,15"/>
                </StackPanel>
            </Grid>
            
            <!-- Tweaks Content -->
            <Grid Name="TweaksContent" Visibility="Collapsed">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                
                <!-- Preset Buttons -->
                <Grid Grid.Row="0" Margin="0,0,0,20">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <TextBlock Grid.Row="0" Text="Quick Presets" Style="{StaticResource SubHeaderText}" Margin="0,0,0,12"/>
                    <StackPanel Grid.Row="1" Orientation="Horizontal">
                        <Button Name="btnPresetStandard" Content="Standard Setup" Style="{StaticResource ModernButton}" Width="150" Margin="0,0,12,0"/>
                        <Button Name="btnPresetMinimal" Content="Minimal Setup" Style="{StaticResource ModernButton}" Width="150" Margin="0,0,12,0"/>
                        <Button Name="btnClearSelection" Content="Clear All" Style="{StaticResource ModernButton}" Width="120" Background="#FF444444"/>
                    </StackPanel>
                </Grid>
                
                <!-- Main Content Area with Floating Button Bar -->
                <Grid Grid.Row="1">
                    <!-- Tweaks Panels Container -->
                    <ScrollViewer Name="svTweaksPanels" HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Disabled" Margin="0,0,0,35">
                        <Grid Name="grdTweaksPanels">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            
                            <!-- Panel 1 -->
                            <Border Name="Panel1" Grid.Column="0" Style="{StaticResource TweakPanel}" Margin="0,0,5,0" HorizontalAlignment="Stretch">
                                <TreeView Name="trvTweaksPanel1" Style="{StaticResource ModernTreeView}" Background="Transparent" BorderThickness="0"/>
                            </Border>
                            
                            <!-- Panel 2 -->
                            <Border Name="Panel2" Grid.Column="1" Style="{StaticResource TweakPanel}" Margin="5,0,0,0" HorizontalAlignment="Stretch">
                                <TreeView Name="trvTweaksPanel2" Style="{StaticResource ModernTreeView}" Background="Transparent" BorderThickness="0"/>
                            </Border>
                        </Grid>
                    </ScrollViewer>
                    
                    <!-- Floating Action Bar -->
                    <Border VerticalAlignment="Bottom" HorizontalAlignment="Stretch" 
                            Background="#FF1A1A1A" BorderBrush="#FF3F3F46" BorderThickness="0,1,0,0"
                            Padding="20,6" Margin="0,0,0,0">
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                            <Button Name="btnApplyTweaks" Content="Apply Selected Tweaks" Style="{StaticResource ModernButton}" Margin="0,0,10,0" Padding="20,6"/>
                            <Button Name="btnUndoTweaks" Content="Undo Selected Tweaks" Style="{StaticResource ModernButton}" Background="#FFFF8C00" Padding="20,6"/>
                        </StackPanel>
                    </Border>
                </Grid>
            </Grid>
        </Grid>
    </Grid>
</Window> 