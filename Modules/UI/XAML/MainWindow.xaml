<Window xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="WinUtil - Windows Utility Tool" 
        Height="900" 
        Width="1400"
        MinHeight="700"
        MinWidth="1000"
        WindowStartupLocation="CenterScreen"
        Background="#FF1A1A1A"
        WindowStyle="None"
        AllowsTransparency="True"
        ResizeMode="CanResize">
    
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="Resources.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="70"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <!-- Custom Title Bar with Navigation -->
        <Border Grid.Row="0" Background="#FF2D2D30" BorderBrush="#FF3F3F46" BorderThickness="0,0,0,1">
            <Grid Margin="20,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- WinUtil Title (Draggable Area) -->
                <TextBlock Name="titleBar" Grid.Column="0" Text="WinUtil" FontSize="28" FontWeight="Bold" Foreground="#FF0078D4" VerticalAlignment="Center" Margin="0,0,40,0" Cursor="Hand"/>
                
                <!-- Navigation Tabs -->
                <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Left">
                    <Button Name="btnApplicationsTab" Content="Applications" Style="{StaticResource TabButton}" Tag="0" Margin="0,0,8,0"/>
                    <Button Name="btnTweaksTab" Content="Tweaks" Style="{StaticResource TabButton}" Tag="1"/>
                </StackPanel>
                
                <!-- Draggable spacer area -->
                <Rectangle Grid.Column="2" Fill="Transparent" Name="dragArea" Cursor="SizeAll"/>
                
                <!-- Search Box -->
                <TextBox Name="txtSearch" Grid.Column="3"
                         Style="{StaticResource SearchTextBox}"
                         Width="280"
                         Height="36"
                         VerticalAlignment="Center"
                         Margin="20,0,20,0"/>
                
                <!-- Window Controls -->
                <StackPanel Grid.Column="4" Orientation="Horizontal" VerticalAlignment="Center">
                    <Button Name="btnMinimize" Content="&#xE921;" Style="{StaticResource WindowControlButton}" Width="46" Height="32" FontFamily="Segoe MDL2 Assets" FontSize="10"/>
                    <Button Name="btnMaximize" Content="&#xE922;" Style="{StaticResource WindowControlButton}" Width="46" Height="32" FontFamily="Segoe MDL2 Assets" FontSize="10"/>
                    <Button Name="btnClose" Content="&#xE8BB;" Style="{StaticResource WindowControlCloseButton}" Width="46" Height="32" FontFamily="Segoe MDL2 Assets" FontSize="10"/>
                </StackPanel>
            </Grid>
        </Border>
        
        <!-- Main Content Area -->
        <Grid Grid.Row="1" Margin="30">
            <!-- Applications Content -->
            <Grid Name="ApplicationsContent" Visibility="Visible">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                <!-- Applications Tree -->
                <TreeView Name="trvApplications" Grid.Row="0" Style="{StaticResource ModernTreeView}" Background="Transparent" BorderThickness="0" Margin="0,0,0,20">
                    <!-- TreeView items will be populated via code-behind -->
                </TreeView>
                
                <!-- Application Actions -->
                <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Center">
                    <Button Name="btnInstallApps" Content="Install Selected Applications" Style="{StaticResource ModernButton}" Margin="0,0,15,0" Padding="30,15"/>
                    <Button Name="btnUninstallApps" Content="Uninstall Selected Applications" Style="{StaticResource ModernButton}" Background="#FFD13438" Padding="30,15"/>
                </StackPanel>
            </Grid>
            
            <!-- Tweaks Content -->
            <Grid Name="TweaksContent" Visibility="Collapsed">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                
                <!-- Preset Buttons -->
                <Grid Grid.Row="0" Margin="0,0,0,20">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <TextBlock Grid.Row="0" Text="Quick Presets" Style="{StaticResource SubHeaderText}" Margin="0,0,0,12"/>
                    <StackPanel Grid.Row="1" Orientation="Horizontal">
                        <Button Name="btnPresetStandard" Content="Standard Setup" Style="{StaticResource ModernButton}" Width="150" Margin="0,0,12,0"/>
                        <Button Name="btnPresetMinimal" Content="Minimal Setup" Style="{StaticResource ModernButton}" Width="150" Margin="0,0,12,0"/>
                        <Button Name="btnClearSelection" Content="Clear All" Style="{StaticResource ModernButton}" Width="120" Background="#FF444444"/>
                    </StackPanel>
                </Grid>
                
                <!-- Main Content Area with Floating Button Bar -->
                <Grid Grid.Row="1">
                    <!-- Tweaks Panels Container -->
                    <ScrollViewer Name="svTweaksPanels" HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Disabled" Margin="0,0,0,35">
                        <Grid Name="grdTweaksPanels">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            
                            <!-- Panel 1 -->
                            <Border Name="Panel1" Grid.Column="0" Style="{StaticResource TweakPanel}" Margin="0,0,5,0" HorizontalAlignment="Stretch">
                                <TreeView Name="trvTweaksPanel1" Style="{StaticResource ModernTreeView}" Background="Transparent" BorderThickness="0"/>
                            </Border>
                            
                            <!-- Panel 2 -->
                            <Border Name="Panel2" Grid.Column="1" Style="{StaticResource TweakPanel}" Margin="5,0,0,0" HorizontalAlignment="Stretch">
                                <TreeView Name="trvTweaksPanel2" Style="{StaticResource ModernTreeView}" Background="Transparent" BorderThickness="0"/>
                            </Border>
                        </Grid>
                    </ScrollViewer>
                    
                    <!-- Floating Action Bar -->
                    <Border VerticalAlignment="Bottom" HorizontalAlignment="Stretch" 
                            Background="#FF1A1A1A" BorderBrush="#FF3F3F46" BorderThickness="0,1,0,0"
                            Padding="20,6" Margin="0,0,0,0">
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                            <Button Name="btnApplyTweaks" Content="Apply Selected Tweaks" Style="{StaticResource ModernButton}" Margin="0,0,10,0" Padding="20,6"/>
                            <Button Name="btnUndoTweaks" Content="Undo Selected Tweaks" Style="{StaticResource ModernButton}" Background="#FFFF8C00" Padding="20,6"/>
                        </StackPanel>
                    </Border>
                </Grid>
            </Grid>
        </Grid>
    </Grid>
</Window> 